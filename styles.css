/**
 * Obsidian Repository Viewer Styles
 */

/* Dark Theme (Default) */
:root[data-theme="dark"] {
	/* Colors */
	--color-bg-primary: #1e1e1e;
	--color-bg-secondary: #252525;
	--color-bg-hover: #2a2a2a;
	--color-bg-active: #333333;
	--color-text-primary: #e0e0e0;
	--color-text-secondary: #a0a0a0;
	--color-accent: #7c3aed;
	--color-accent-hover: #6d28d9;
	--color-border: #404040;
	--color-code-bg: #2d2d2d;
	--color-blockquote-border: #7c3aed;
	--color-link: #7c3aed;
	--color-link-hover: #6d28d9;
}

/* Light Theme */
:root[data-theme="light"] {
	/* Colors */
	--color-bg-primary: #ffffff;
	--color-bg-secondary: #f8f9fa;
	--color-bg-hover: #e9ecef;
	--color-bg-active: #dee2e6;
	--color-text-primary: #212529;
	--color-text-secondary: #6c757d;
	--color-accent: #5b21b6;
	--color-accent-hover: #4c1d95;
	--color-border: #dee2e6;
	--color-code-bg: #f1f3f5;
	--color-blockquote-border: #5b21b6;
	--color-link: #5b21b6;
	--color-link-hover: #4c1d95;
}

/* Common variables */
:root {
	/* Sizes */
	--sidebar-width: 300px;
	--spacing-xs: 0.25rem;
	--spacing-sm: 0.5rem;
	--spacing-md: 1rem;
	--spacing-lg: 1.5rem;
	--spacing-xl: 2rem;

	/* Typography */
	--font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
	--font-mono: 'Fira Code', 'Consolas', monospace;

	/* Transitions */
	--transition-fast: 150ms ease;
	--transition-normal: 300ms ease;
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

body {
	font-family: var(--font-sans);
	background-color: var(--color-bg-primary);
	color: var(--color-text-primary);
	line-height: 1.6;
}

.container {
	display: flex;
	height: 100vh;
	overflow: hidden;
}

/* Sidebar Styles */
.sidebar {
	width: var(--sidebar-width);
	background-color: var(--color-bg-secondary);
	border-right: 1px solid var(--color-border);
	overflow-y: auto;
	flex-shrink: 0;
}

.sidebar-header {
	padding: var(--spacing-lg);
	border-bottom: 1px solid var(--color-border);
	display: flex;
	justify-content: space-between;
	align-items: center;
}

.sidebar-header h1 {
	font-size: 1.25rem;
	color: var(--color-accent);
	margin: 0;
}

/* Theme Toggle Button */
.theme-toggle {
	background: none;
	border: 1px solid var(--color-border);
	border-radius: 6px;
	padding: var(--spacing-sm);
	cursor: pointer;
	color: var(--color-text-primary);
	transition: all var(--transition-fast);
	font-size: 1.25rem;
	line-height: 1;
}

.theme-toggle:hover {
	background-color: var(--color-bg-hover);
	border-color: var(--color-accent);
}

[data-theme="light"] .theme-icon-dark,
[data-theme="dark"] .theme-icon-light {
	display: none;
}

[data-theme="light"] .theme-icon-light,
[data-theme="dark"] .theme-icon-dark {
	display: block;
}

/* File Tree Styles */
.file-tree {
	padding: var(--spacing-md);
}

.tree-list {
	list-style: none;
	margin-left: var(--spacing-md);
}

.tree-list[data-path=""] {
	margin-left: 0;
}

.tree-item {
	margin-bottom: var(--spacing-xs);
}

.tree-button {
	width: 100%;
	padding: var(--spacing-sm) var(--spacing-md);
	background: none;
	border: none;
	border-radius: 4px;
	color: var(--color-text-primary);
	cursor: pointer;
	display: flex;
	align-items: center;
	gap: var(--spacing-sm);
	text-align: left;
	transition: background-color var(--transition-fast);
}

.tree-button:hover {
	background-color: var(--color-bg-hover);
}

.tree-button.active {
	background-color: var(--color-bg-active);
	color: var(--color-accent);
}

.tree-button .icon {
	font-size: 1rem;
	flex-shrink: 0;
}

.tree-button .name {
	flex: 1;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.folder-button.expanded .icon {
	content: 'ðŸ“‚';
}

.hidden {
	display: none;
}

.loading {
	opacity: 0.5;
	pointer-events: none;
}

/* Content Area Styles */
.content {
	flex: 1;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

.content-header {
	padding: var(--spacing-lg);
	border-bottom: 1px solid var(--color-border);
	background-color: var(--color-bg-secondary);
}

.content-header h2 {
	font-size: 1.5rem;
	font-weight: 600;
	margin-bottom: var(--spacing-sm);
}

/* Breadcrumbs */
.breadcrumbs {
	font-size: 0.875rem;
	color: var(--color-text-secondary);
}

.breadcrumb-item {
	display: inline-block;
}

.breadcrumb-item:not(:last-child)::after {
	content: ' / ';
	margin: 0 var(--spacing-xs);
	color: var(--color-text-secondary);
}

.breadcrumb-item a {
	color: var(--color-text-secondary);
	text-decoration: none;
	transition: color var(--transition-fast);
}

.breadcrumb-item a:hover {
	color: var(--color-accent);
}

.content-body {
	flex: 1;
	padding: var(--spacing-xl);
	overflow-y: auto;
	max-width: 900px;
	margin: 0 auto;
	width: 100%;
}

/* Empty State */
.empty-state {
	text-align: center;
	color: var(--color-text-secondary);
	margin-top: var(--spacing-xl);
}

.error {
	color: #ef4444;
	padding: var(--spacing-md);
	text-align: center;
}

/* Markdown Content Styles */
.markdown-content {
	font-size: 1rem;
	line-height: 1.8;
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
	margin-top: var(--spacing-xl);
	margin-bottom: var(--spacing-md);
	font-weight: 600;
	line-height: 1.3;
}

.markdown-content h1 {
	font-size: 2rem;
	border-bottom: 2px solid var(--color-border);
	padding-bottom: var(--spacing-sm);
}

.markdown-content h2 {
	font-size: 1.5rem;
}

.markdown-content h3 {
	font-size: 1.25rem;
}

.markdown-content p {
	margin-bottom: var(--spacing-md);
}

.markdown-content ul,
.markdown-content ol {
	margin-bottom: var(--spacing-md);
	padding-left: var(--spacing-xl);
}

.markdown-content li {
	margin-bottom: var(--spacing-xs);
}

.markdown-content blockquote {
	border-left: 4px solid var(--color-blockquote-border);
	padding-left: var(--spacing-lg);
	margin: var(--spacing-lg) 0;
	color: var(--color-text-secondary);
}

.markdown-content code {
	background-color: var(--color-code-bg);
	padding: 2px 6px;
	border-radius: 3px;
	font-family: var(--font-mono);
	font-size: 0.9em;
}

.markdown-content pre {
	background-color: var(--color-code-bg);
	padding: var(--spacing-md);
	border-radius: 6px;
	overflow-x: auto;
	margin-bottom: var(--spacing-md);
}

.markdown-content pre code {
	background: none;
	padding: 0;
	font-size: 0.875rem;
}

.markdown-content a {
	color: var(--color-link);
	text-decoration: none;
	transition: color var(--transition-fast);
}

.markdown-content a:hover {
	color: var(--color-link-hover);
	text-decoration: underline;
}

.markdown-content img {
	max-width: 100%;
	height: auto;
	border-radius: 6px;
	margin: var(--spacing-md) 0;
}

.markdown-content table {
	width: 100%;
	border-collapse: collapse;
	margin: var(--spacing-md) 0;
}

.markdown-content th,
.markdown-content td {
	border: 1px solid var(--color-border);
	padding: var(--spacing-sm) var(--spacing-md);
	text-align: left;
}

.markdown-content th {
	background-color: var(--color-bg-secondary);
	font-weight: 600;
}

.markdown-content hr {
	border: none;
	border-top: 1px solid var(--color-border);
	margin: var(--spacing-xl) 0;
}

/* Responsive Design */
@media (max-width: 768px) {
	:root {
		--sidebar-width: 250px;
	}

	.container {
		position: relative;
	}

	.sidebar {
		position: absolute;
		left: -100%;
		height: 100%;
		transition: left var(--transition-normal);
		z-index: 10;
	}

	.sidebar.open {
		left: 0;
	}

	.content {
		margin-left: 0;
	}
}
